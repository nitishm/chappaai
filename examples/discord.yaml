apiVersion: chappaai.dev/v1
kind: OAuthApi
metadata:
  name: discord
spec:
  auth:
    oAuth2:
      authorizationUrl: "https://discord.com/api/oauth2/authorize"
      tokenUrl: "https://discord.com/api/oauth2/token"
      authorizationParams:
        - key: responseType
          value: code
        - key: grantType
          value: authorization_code
  http:
    baseUrl: "https://discord.com/api/"
    authorizationHeaderPrefix: Bearer
    headers:
      - key: Accept
        value: application/json
      - key: User-Agent
        value: stargate
---
apiVersion: chappaai.dev/v1
kind: OAuthConnection
metadata:
  name: discord
spec:
  api: discord
  scopes:
    - "identity"
    - "email"
  clientId: "MYID"
  clientSecret:
    name: "oauth-connection-discord"
    key: "clientSecret"
---
apiVersion: v1
kind: Secret
metadata:
  name: oauth-connection-discord
stringData:
  clientSecret: "Hello"
